<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: RuboCop::Cop::Captive::Rails::NoDisableDdlTransaction
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "RuboCop::Cop::Captive::Rails::NoDisableDdlTransaction";
  relpath = '../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../_index.html">Index (N)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../RuboCop.html" title="RuboCop (module)">RuboCop</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Cop.html" title="RuboCop::Cop (module)">Cop</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Captive.html" title="RuboCop::Cop::Captive (module)">Captive</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Rails.html" title="RuboCop::Cop::Captive::Rails (module)">Rails</a></span></span>
     &raquo; 
    <span class="title">NoDisableDdlTransaction</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: RuboCop::Cop::Captive::Rails::NoDisableDdlTransaction
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Base</li>
          
            <li class="next">RuboCop::Cop::Captive::Rails::NoDisableDdlTransaction</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rubocop/cop/captive/rails/no_disable_ddl_transaction.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Cette migration utilise ‘disable_ddl_transaction!`, ce qui peut rendre le comportement de la migration difficile à prévoir et potentiellement dangereux. Voici pourquoi il est important de l’éviter :</p>
<ol><li>
<p>**Transactions atomiques :** Les migrations sont généralement exécutées dans une transaction afin de garantir que toutes les modifications d’une migration réussissent ou échouent ensemble. Cela permet de maintenir la cohérence de la base de données.</p>
</li><li>
<p>**Erreurs de schéma :** En désactivant la transaction, une erreur survenant lors de l’application des modifications peut laisser la base de données dans un état intermédiaire, ce qui complique le débogage et le retour en arrière.</p>
</li><li>
<p>**Verrouillage des tables :** Les opérations DDL sans transaction peuvent provoquer un verrouillage prolongé de la base de données, impactant la performance et l’accessibilité des tables pour d’autres requêtes pendant l’exécution de la migration.</p>
</li><li>
<p>**Difficulté de maintenance :** L’absence de transactions peut rendre plus difficile la maintenance de l’application, car il devient plus compliqué de conserver un historique clair des modifications apportées au schéma.</p>
</li></ol>

<p>Pour toutes ces raisons, nous devons éviter d’utiliser ‘disable_ddl_transaction!` afin de garantir une gestion sécurisée et fiable des migrations.</p>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://captive-team.atlassian.net/browse/CAE-290?focusedCommentId=24501" target="_parent" title="https://captive-team.atlassian.net/browse/CAE-290?focusedCommentId=24501">https://captive-team.atlassian.net/browse/CAE-290?focusedCommentId=24501</a></li>
    
  </ul>

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="MSG-constant" class="">MSG =
          
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Avoid using &#39;disable_ddl_transaction!&#39; in migrations.</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_send-instance_method" title="#on_send (instance method)">#<strong>on_send</strong>(node)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="on_send-instance_method">
  
    #<strong>on_send</strong>(node)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rubocop/cop/captive/rails/no_disable_ddl_transaction.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_send'>on_send</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_disable_ddl_transaction?'>disable_ddl_transaction?</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_add_offense'>add_offense</span><span class='lparen'>(</span><span class='id identifier rubyid_node'>node</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Mon Oct 20 14:18:57 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.7).
</div>

    </div>
  </body>
</html>